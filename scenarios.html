<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>场景库 - 天体系统模拟器</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Serif+SC:wght@400;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #0B1426 0%, #1E1B3A 100%);
            color: #FFFFFF;
            line-height: 1.6;
            min-height: 100vh;
        }

        /* 导航栏样式 */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: rgba(11, 20, 38, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
        }

        .logo {
            font-family: 'Noto Serif SC', serif;
            font-size: 24px;
            font-weight: 700;
            color: #FFD700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: #FFFFFF;
            text-decoration: none;
            font-weight: 400;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: #00FFFF;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .nav-links a.active {
            color: #FFD700;
        }

        /* 主容器 */
        .main-container {
            padding-top: 60px;
            min-height: 100vh;
        }

        /* 页面标题 */
        .page-header {
            text-align: center;
            padding: 60px 20px 40px;
            background: linear-gradient(135deg, rgba(0, 255, 255, 0.1) 0%, rgba(255, 215, 0, 0.1) 100%);
        }

        .page-title {
            font-family: 'Noto Serif SC', serif;
            font-size: 48px;
            font-weight: 700;
            color: #FFD700;
            margin-bottom: 20px;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
        }

        .page-subtitle {
            font-size: 18px;
            color: #00FFFF;
            max-width: 800px;
            margin: 0 auto;
            opacity: 0.9;
        }

        /* 过滤器 */
        .filter-container {
            max-width: 1200px;
            margin: 40px auto 20px;
            padding: 0 20px;
        }

        .filter-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .filter-tab {
            background: rgba(42, 42, 42, 0.8);
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 25px;
            padding: 10px 25px;
            color: #FFFFFF;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .filter-tab:hover {
            background: rgba(0, 255, 255, 0.2);
            border-color: #00FFFF;
        }

        .filter-tab.active {
            background: #FFD700;
            color: #0B1426;
            border-color: #FFD700;
            font-weight: 600;
        }

        /* 场景网格 */
        .scenarios-grid {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .scenario-card {
            background: rgba(42, 42, 42, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .scenario-card:hover {
            transform: translateY(-8px);
            border-color: #FFD700;
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.3);
        }

        .scenario-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #0B1426 0%, #1E1B3A 100%);
            position: relative;
            overflow: hidden;
        }

        .scenario-preview {
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
            position: relative;
        }

        .scenario-bodies {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .preview-star {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #FFD700;
            border-radius: 50%;
            box-shadow: 0 0 20px #FFD700;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .preview-planet {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #4169E1;
            border-radius: 50%;
            box-shadow: 0 0 10px #4169E1;
        }

        .preview-orbit {
            position: absolute;
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .scenario-content {
            padding: 25px;
        }

        .scenario-title {
            font-family: 'Noto Serif SC', serif;
            font-size: 20px;
            color: #FFD700;
            margin-bottom: 10px;
        }

        .scenario-description {
            font-size: 14px;
            color: #CCCCCC;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .scenario-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 12px;
            color: #00FFFF;
        }

        .scenario-actions {
            display: flex;
            gap: 10px;
        }

        .action-button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            text-align: center;
        }

        .load-button {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            color: #0B1426;
            font-weight: 600;
        }

        .load-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }

        .preview-button {
            background: rgba(0, 255, 255, 0.2);
            color: #00FFFF;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .preview-button:hover {
            background: rgba(0, 255, 255, 0.3);
            border-color: #00FFFF;
        }

        /* 难度标签 */
        .difficulty-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .difficulty-easy {
            background: rgba(0, 255, 0, 0.2);
            color: #00FF00;
            border: 1px solid rgba(0, 255, 0, 0.3);
        }

        .difficulty-medium {
            background: rgba(255, 165, 0, 0.2);
            color: #FFA500;
            border: 1px solid rgba(255, 165, 0, 0.3);
        }

        .difficulty-hard {
            background: rgba(255, 0, 0, 0.2);
            color: #FF6B35;
            border: 1px solid rgba(255, 0, 0, 0.3);
        }

        /* 模态框 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(42, 42, 42, 0.95);
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 12px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .modal-title {
            font-family: 'Noto Serif SC', serif;
            font-size: 28px;
            color: #FFD700;
        }

        .close-button {
            background: none;
            border: none;
            color: #FFFFFF;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
        }

        .modal-body {
            color: #E0E0E0;
            line-height: 1.8;
        }

        .scenario-params {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }

        .param-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .param-label {
            color: #00FFFF;
        }

        .param-value {
            color: #FFD700;
            font-family: 'JetBrains Mono', monospace;
        }

        /* 底部 */
        .bottom-section {
            background: rgba(11, 20, 38, 0.9);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(0, 255, 255, 0.2);
            padding: 40px 20px;
            text-align: center;
            margin-top: 60px;
        }

        .bottom-title {
            font-family: 'Noto Serif SC', serif;
            font-size: 24px;
            color: #FFD700;
            margin-bottom: 20px;
        }

        .bottom-description {
            font-size: 16px;
            color: #CCCCCC;
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .explore-button {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border: none;
            border-radius: 8px;
            padding: 15px 40px;
            color: #0B1426;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .explore-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.4);
        }

        /* 响应式设计 */
        @media (max-width: 768px) {
            .page-title {
                font-size: 36px;
            }
            
            .scenarios-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .filter-tabs {
                gap: 10px;
            }
            
            .filter-tab {
                padding: 8px 16px;
                font-size: 12px;
            }
            
            .modal-content {
                padding: 20px;
                margin: 20px;
            }
        }

        /* 动画效果 */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .scenario-card:nth-child(1) { animation-delay: 0.1s; }
        .scenario-card:nth-child(2) { animation-delay: 0.2s; }
        .scenario-card:nth-child(3) { animation-delay: 0.3s; }
        .scenario-card:nth-child(4) { animation-delay: 0.4s; }
        .scenario-card:nth-child(5) { animation-delay: 0.5s; }
        .scenario-card:nth-child(6) { animation-delay: 0.6s; }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="logo">天体系统模拟器</div>
        <div class="nav-links">
            <a href="index.html">模拟器</a>
            <a href="learn.html">学习中心</a>
            <a href="scenarios.html" class="active">场景库</a>
        </div>
    </nav>

    <!-- 主容器 -->
    <div class="main-container">
        <!-- 页面头部 -->
        <div class="page-header">
            <h1 class="page-title">预设场景库</h1>
            <p class="page-subtitle">
                探索各种天体系统，从简单的双星系统到复杂的星系碰撞，体验宇宙的壮丽演化
            </p>
        </div>

        <!-- 过滤器 -->
        <div class="filter-container">
            <div class="filter-tabs">
                <div class="filter-tab active" onclick="filterScenarios('all')">全部</div>
                <div class="filter-tab" onclick="filterScenarios('basic')">基础系统</div>
                <div class="filter-tab" onclick="filterScenarios('advanced')">高级系统</div>
                <div class="filter-tab" onclick="filterScenarios('collision')">碰撞系统</div>
                <div class="filter-tab" onclick="filterScenarios('exotic')">奇异系统</div>
            </div>
        </div>

        <!-- 场景网格 -->
        <div class="scenarios-grid" id="scenarios-grid">
            <!-- 太阳系 -->
            <div class="scenario-card fade-in" data-category="basic" onclick="showScenarioDetail('solar-system')">
                <div class="scenario-image">
                    <div class="difficulty-badge difficulty-easy">简单</div>
                    <div class="scenario-preview">
                        <div class="scenario-bodies">
                            <div class="preview-star"></div>
                            <div class="preview-orbit" style="width: 60px; height: 60px;"></div>
                            <div class="preview-planet" style="top: 30px; left: 130px;"></div>
                            <div class="preview-orbit" style="width: 100px; height: 100px;"></div>
                            <div class="preview-planet" style="top: 50px; left: 150px; background: #4169E1;"></div>
                            <div class="preview-orbit" style="width: 140px; height: 140px;"></div>
                            <div class="preview-planet" style="top: 70px; left: 170px; background: #CD5C5C;"></div>
                        </div>
                    </div>
                </div>
                <div class="scenario-content">
                    <h3 class="scenario-title">太阳系</h3>
                    <p class="scenario-description">
                        我们熟悉的太阳系，包含太阳和八大行星，展示了真实的轨道运动和引力相互作用。
                    </p>
                    <div class="scenario-stats">
                        <span>天体数量: 9</span>
                        <span>模拟时长: 365 天</span>
                        <span>复杂度: 低</span>
                    </div>
                    <div class="scenario-actions">
                        <button class="action-button load-button" onclick="loadScenario('solar-system')">加载场景</button>
                        <button class="action-button preview-button" onclick="previewScenario('solar-system')">预览详情</button>
                    </div>
                </div>
            </div>

            <!-- 双星系统 -->
            <div class="scenario-card fade-in" data-category="basic" onclick="showScenarioDetail('binary-system')">
                <div class="scenario-image">
                    <div class="difficulty-badge difficulty-easy">简单</div>
                    <div class="scenario-preview">
                        <div class="scenario-bodies">
                            <div class="preview-star" style="left: 40%; top: 50%;"></div>
                            <div class="preview-star" style="left: 60%; top: 50%; background: #FFA500;"></div>
                            <div class="preview-orbit" style="width: 80px; height: 40px; transform: translate(-50%, -50%) rotate(45deg);"></div>
                            <div class="preview-planet" style="top: 30px; left: 120px; background: #32CD32;"></div>
                            <div class="preview-planet" style="top: 120px; left: 200px; background: #9370DB;"></div>
                        </div>
                    </div>
                </div>
                <div class="scenario-content">
                    <h3 class="scenario-title">双星系统</h3>
                    <p class="scenario-description">
                        两颗恒星相互围绕，周围有行星运行。展示复杂的多体引力系统和轨道稳定性。
                    </p>
                    <div class="scenario-stats">
                        <span>天体数量: 4</span>
                        <span>模拟时长: 100 年</span>
                        <span>复杂度: 中</span>
                    </div>
                    <div class="scenario-actions">
                        <button class="action-button load-button" onclick="loadScenario('binary-system')">加载场景</button>
                        <button class="action-button preview-button" onclick="previewScenario('binary-system')">预览详情</button>
                    </div>
                </div>
            </div>

            <!-- 三星系统 -->
            <div class="scenario-card fade-in" data-category="advanced" onclick="showScenarioDetail('triple-system')">
                <div class="scenario-image">
                    <div class="difficulty-badge difficulty-hard">困难</div>
                    <div class="scenario-preview">
                        <div class="scenario-bodies">
                            <div class="preview-star" style="left: 50%; top: 40%;"></div>
                            <div class="preview-star" style="left: 40%; top: 60%; background: #FFA500;"></div>
                            <div class="preview-star" style="left: 60%; top: 60%; background: #FF6B35;"></div>
                            <div class="preview-orbit" style="width: 60px; height: 60px; top: 30%; left: 50%;"></div>
                            <div class="preview-planet" style="top: 50px; left: 150px; background: #32CD32;"></div>
                        </div>
                    </div>
                </div>
                <div class="scenario-content">
                    <h3 class="scenario-title">三星系统</h3>
                    <p class="scenario-description">
                        三颗恒星组成的复杂引力系统，展示混沌运动和不稳定轨道，是经典的三体问题实例。
                    </p>
                    <div class="scenario-stats">
                        <span>天体数量: 4</span>
                        <span>模拟时长: 50 年</span>
                        <span>复杂度: 高</span>
                    </div>
                    <div class="scenario-actions">
                        <button class="action-button load-button" onclick="loadScenario('triple-system')">加载场景</button>
                        <button class="action-button preview-button" onclick="previewScenario('triple-system')">预览详情</button>
                    </div>
                </div>
            </div>

            <!-- 行星碰撞 -->
            <div class="scenario-card fade-in" data-category="collision" onclick="showScenarioDetail('planet-collision')">
                <div class="scenario-image">
                    <div class="difficulty-badge difficulty-medium">中等</div>
                    <div class="scenario-preview">
                        <div class="scenario-bodies">
                            <div class="preview-star"></div>
                            <div class="preview-planet" style="top: 30px; left: 100px; background: #4169E1;"></div>
                            <div class="preview-planet" style="top: 50px; left: 120px; background: #CD5C5C;"></div>
                            <div class="preview-planet" style="top: 80px; left: 140px; background: #32CD32;"></div>
                            <div class="collision-effect" style="position: absolute; top: 60px; left: 110px; width: 20px; height: 20px; background: radial-gradient(circle, #FF6B35 0%, transparent 70%); border-radius: 50%;"></div>
                        </div>
                    </div>
                </div>
                <div class="scenario-content">
                    <h3 class="scenario-title">行星碰撞</h3>
                    <p class="scenario-description">
                        两个行星在引力作用下逐渐靠近，最终发生碰撞。展示轨道演化和碰撞动力学。
                    </p>
                    <div class="scenario-stats">
                        <span>天体数量: 4</span>
                        <span>模拟时长: 10 年</span>
                        <span>复杂度: 中</span>
                    </div>
                    <div class="scenario-actions">
                        <button class="action-button load-button" onclick="loadScenario('planet-collision')">加载场景</button>
                        <button class="action-button preview-button" onclick="previewScenario('planet-collision')">预览详情</button>
                    </div>
                </div>
            </div>

            <!-- 小行星带 -->
            <div class="scenario-card fade-in" data-category="basic" onclick="showScenarioDetail('asteroid-belt')">
                <div class="scenario-image">
                    <div class="difficulty-badge difficulty-easy">简单</div>
                    <div class="scenario-preview">
                        <div class="scenario-bodies">
                            <div class="preview-star"></div>
                            <div class="preview-planet" style="top: 50px; left: 150px; background: #CD853F;"></div>
                            <div class="preview-orbit" style="width: 120px; height: 120px;"></div>
                            <!-- 小行星 -->
                            <div class="preview-planet" style="top: 40px; left: 140px; width: 3px; height: 3px; background: #8B7355;"></div>
                            <div class="preview-planet" style="top: 45px; left: 145px; width: 3px; height: 3px; background: #8B7355;"></div>
                            <div class="preview-planet" style="top: 55px; left: 155px; width: 3px; height: 3px; background: #8B7355;"></div>
                            <div class="preview-planet" style="top: 60px; left: 160px; width: 3px; height: 3px; background: #8B7355;"></div>
                            <div class="preview-planet" style="top: 65px; left: 165px; width: 3px; height: 3px; background: #8B7355;"></div>
                        </div>
                    </div>
                </div>
                <div class="scenario-content">
                    <h3 class="scenario-title">小行星带</h3>
                    <p class="scenario-description">
                        模拟火星和木星之间的小行星带，展示大量小天体的群体运动和引力扰动。
                    </p>
                    <div class="scenario-stats">
                        <span>天体数量: 50+</span>
                        <span>模拟时长: 100 年</span>
                        <span>复杂度: 中</span>
                    </div>
                    <div class="scenario-actions">
                        <button class="action-button load-button" onclick="loadScenario('asteroid-belt')">加载场景</button>
                        <button class="action-button preview-button" onclick="previewScenario('asteroid-belt')">预览详情</button>
                    </div>
                </div>
            </div>

            <!-- 黑洞系统 -->
            <div class="scenario-card fade-in" data-category="exotic" onclick="showScenarioDetail('black-hole')">
                <div class="scenario-image">
                    <div class="difficulty-badge difficulty-hard">困难</div>
                    <div class="scenario-preview">
                        <div class="scenario-bodies">
                            <div style="position: absolute; top: 50%; left: 50%; width: 30px; height: 30px; background: radial-gradient(circle, #000 0%, #1E1B3A 50%, #FF6B35 100%); border-radius: 50%; transform: translate(-50%, -50%); box-shadow: 0 0 30px #FF6B35;"></div>
                            <div class="preview-orbit" style="width: 100px; height: 100px;"></div>
                            <div class="preview-planet" style="top: 20px; left: 140px; background: #FFD700;"></div>
                            <div class="preview-orbit" style="width: 150px; height: 150px;"></div>
                            <div class="preview-planet" style="top: 80px; left: 200px; background: #4169E1;"></div>
                        </div>
                    </div>
                </div>
                <div class="scenario-content">
                    <h3 class="scenario-title">黑洞系统</h3>
                    <p class="scenario-description">
                        超大质量黑洞周围的恒星运动，展示强引力场中的轨道进动和相对论效应。
                    </p>
                    <div class="scenario-stats">
                        <span>天体数量: 10</span>
                        <span>模拟时长: 1000 年</span>
                        <span>复杂度: 极高</span>
                    </div>
                    <div class="scenario-actions">
                        <button class="action-button load-button" onclick="loadScenario('black-hole')">加载场景</button>
                        <button class="action-button preview-button" onclick="previewScenario('black-hole')">预览详情</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 模态框 -->
    <div class="modal" id="scenario-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modal-title">场景详情</h2>
                <button class="close-button" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- 动态内容 -->
            </div>
        </div>
    </div>

    <!-- 底部 -->
    <div class="bottom-section">
        <h3 class="bottom-title">创建你的宇宙</h3>
        <p class="bottom-description">
            这些预设场景只是开始。你可以基于这些场景进行修改，或者创建完全属于自己的天体系统。
            探索无限可能，发现宇宙的奥秘。
        </p>
        <a href="index.html" class="explore-button">开始探索</a>
    </div>

    <script>
        // 场景数据
        const scenarios = {
            'solar-system': {
                title: '太阳系',
                description: '我们熟悉的太阳系模型，包含太阳和八大行星，基于真实的轨道参数和质量数据。',
                longDescription: '这个场景模拟了我们太阳系的精确模型，包括太阳和八大行星（水星、金星、地球、火星、木星、土星、天王星、海王星）。每个天体的质量、半径、轨道半长轴和轨道速度都基于真实的观测数据。这个场景完美展示了开普勒定律和牛顿引力定律的应用，是理解天体运动基础概念的理想起点。',
                difficulty: '简单',
                bodies: 9,
                duration: '365 天',
                complexity: '低',
                params: {
                    '引力常数': '6.67×10⁻¹¹ N·m²/kg²',
                    '时间步长': '1 小时',
                    '积分方法': 'Runge-Kutta 4',
                    '中心天体': '太阳 (1.989×10³⁰ kg)',
                    '最内行星': '水星 (0.387 AU)',
                    '最外行星': '海王星 (30.07 AU)'
                }
            },
            'binary-system': {
                title: '双星系统',
                description: '两颗恒星相互围绕，周围有行星运行的复杂引力系统。',
                longDescription: '这是一个经典的双星系统场景，包含两颗质量不同的恒星和两颗围绕它们运行的行星。这个系统展示了多体引力相互作用的复杂性，包括轨道进动、共振现象和混沌运动。双星系统在宇宙中非常常见，约有一半的恒星系统都是双星或多星系统。',
                difficulty: '简单',
                bodies: 4,
                duration: '100 年',
                complexity: '中',
                params: {
                    '主星质量': '2.0×10³⁰ kg',
                    '伴星质量': '1.5×10³⁰ kg',
                    '双星距离': '2×10⁸ km',
                    '行星A轨道': '2×10⁸ km',
                    '行星B轨道': '2.5×10⁸ km',
                    '轨道周期': '约10年'
                }
            },
            'triple-system': {
                title: '三星系统',
                description: '三颗恒星组成的复杂引力系统，展示经典的三体问题和混沌运动。',
                longDescription: '这个场景模拟了著名的三体问题，包含三颗相互围绕的恒星。三体系统是经典力学中最复杂的问题之一，其运动通常是混沌的，无法用简单的解析解描述。这个场景展示了天体系统中的混沌现象，以及初始条件的微小变化如何导致完全不同的演化结果。',
                difficulty: '困难',
                bodies: 4,
                duration: '50 年',
                complexity: '高',
                params: {
                    '恒星1质量': '1.0×10³⁰ kg',
                    '恒星2质量': '0.8×10³⁰ kg',
                    '恒星3质量': '0.6×10³⁰ kg',
                    '初始间距': '1×10⁸ km',
                    '运动特征': '混沌运动',
                    '预测性': '长期不可预测'
                }
            },
            'planet-collision': {
                title: '行星碰撞',
                description: '两个行星在引力作用下逐渐靠近，最终发生碰撞的戏剧性场景。',
                longDescription: '这个场景模拟了两个行星在相互引力作用下逐渐靠近，最终发生碰撞的完整过程。包括轨道演化、潮汐力效应、大气剥离和最终的碰撞。这种碰撞事件在早期的太阳系中很常见，被认为是月球形成的主要原因，也是地球获得水和重元素的重要机制。',
                difficulty: '中等',
                bodies: 4,
                duration: '10 年',
                complexity: '中',
                params: {
                    '碰撞体1': '类地行星 (5×10²⁴ kg)',
                    '碰撞体2': '较小行星 (2×10²⁴ kg)',
                    '相对速度': '约 20 km/s',
                    '碰撞能量': '约 10³² J',
                    '碎片云': '预计产生',
                    '新卫星': '可能形成'
                }
            },
            'asteroid-belt': {
                title: '小行星带',
                description: '模拟火星和木星之间的小行星带，包含大量小天体的群体运动。',
                longDescription: '这个场景模拟了太阳系中的小行星带，包含50多个小天体在火星和木星轨道之间运动。小行星带是太阳系形成早期的遗留物，由于木星强大的引力扰动，这些小天体无法聚集成更大的行星。这个场景展示了群体运动的统计特性和引力扰动对轨道的影响。',
                difficulty: '简单',
                bodies: '50+',
                duration: '100 年',
                complexity: '中',
                params: {
                    '小行星数量': '50+',
                    '质量范围': '10¹⁵ - 10²⁰ kg',
                    '轨道范围': '2.0 - 3.5 AU',
                    '主要扰动': '木星引力',
                    '轨道特征': '柯克伍德空隙',
                    '碰撞频率': '约每100万年一次'
                }
            },
            'black-hole': {
                title: '黑洞系统',
                description: '超大质量黑洞周围的恒星运动，展示强引力场中的相对论效应。',
                longDescription: '这个场景模拟了超大质量黑洞周围的恒星运动，基于银河系中心黑洞Sagittarius A*的观测数据。在强引力场中，经典牛顿引力定律需要被广义相对论修正，导致轨道进动和其他相对论效应。这个场景展示了现代天体物理学的前沿研究领域。',
                difficulty: '困难',
                bodies: 10,
                duration: '1000 年',
                complexity: '极高',
                params: {
                    '黑洞质量': '4×10⁶ 太阳质量',
                    '史瓦西半径': '1.2×10¹⁰ km',
                    '最近轨道': '几倍的史瓦西半径',
                    '相对论效应': '显著',
                    '轨道进动': '每轨道约 10°',
                    '潮汐力': '极强'
                }
            }
        };

        // 过滤场景
        function filterScenarios(category) {
            // 更新过滤器状态
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // 过滤卡片
            const cards = document.querySelectorAll('.scenario-card');
            cards.forEach(card => {
                if (category === 'all' || card.dataset.category === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // 加载场景
        function loadScenario(scenarioId) {
            // 阻止事件冒泡
            event.stopPropagation();
            
            // 跳转到主页面并传递场景ID
            window.location.href = `index.html?scenario=${scenarioId}`;
        }

        // 预览场景详情
        function previewScenario(scenarioId) {
            // 阻止事件冒泡
            event.stopPropagation();
            
            showScenarioDetail(scenarioId);
        }

        // 显示场景详情
        function showScenarioDetail(scenarioId) {
            const scenario = scenarios[scenarioId];
            if (!scenario) return;

            document.getElementById('modal-title').textContent = scenario.title;
            
            let paramsHtml = '';
            for (const [key, value] of Object.entries(scenario.params)) {
                paramsHtml += `
                    <div class="param-item">
                        <span class="param-label">${key}:</span>
                        <span class="param-value">${value}</span>
                    </div>
                `;
            }

            document.getElementById('modal-body').innerHTML = `
                <p>${scenario.longDescription}</p>
                
                <div class="scenario-params">
                    <h4 style="color: #FFD700; margin-bottom: 15px;">系统参数</h4>
                    ${paramsHtml}
                </div>
                
                <div style="display: flex; gap: 10px; margin-top: 30px;">
                    <button class="action-button load-button" onclick="loadScenario('${scenarioId}')" style="flex: 1;">加载此场景</button>
                    <button class="action-button preview-button" onclick="closeModal()" style="flex: 1;">返回</button>
                </div>
            `;

            document.getElementById('scenario-modal').style.display = 'block';
        }

        // 关闭模态框
        function closeModal() {
            document.getElementById('scenario-modal').style.display = 'none';
        }

        // 页面加载完成后的初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 添加动画效果
            const cards = document.querySelectorAll('.scenario-card');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });

            // 检查URL参数
            const urlParams = new URLSearchParams(window.location.search);
            const scenarioId = urlParams.get('scenario');
            if (scenarioId) {
                // 如果有场景ID，直接加载到模拟器
                setTimeout(() => {
                    loadScenario(scenarioId);
                }, 1000);
            }
        });

        // 点击模态框外部关闭
        document.getElementById('scenario-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>