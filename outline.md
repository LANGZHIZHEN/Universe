# 天体系统模拟器 - 项目文件结构大纲

## 项目目录结构
```
/mnt/okcomputer/output/
├── index.html              # 主页面 - 3D模拟器界面
├── learn.html              # 学习页面 - 天体物理知识
├── scenarios.html          # 场景页面 - 预设场景库
├── main.js                 # 主要JavaScript逻辑
├── resources/              # 资源文件夹
│   ├── space_background.png    # 宇宙背景图
│   ├── sun_texture.png         # 太阳纹理
│   ├── earth_texture.png       # 地球纹理
│   ├── mars_texture.png        # 火星纹理
│   └── saturn_texture.png      # 土星纹理
├── project_overview.md     # 项目概述文档
├── interaction.md          # 交互设计文档
├── design.md              # 设计风格指南
└── outline.md             # 项目大纲文档
```

## 文件功能详述

### HTML页面文件

#### index.html - 主模拟器页面
**功能**：
- 3D宇宙模拟器主界面
- 实时天体系统模拟
- 用户交互控制面板
- 数据可视化展示

**主要区域**：
- 顶部导航栏
- 左侧控制面板（天体创建、属性编辑）
- 中央3D渲染区域
- 右侧信息面板（实时数据、系统状态）
- 底部状态栏

**核心功能**：
- Three.js 3D场景渲染
- 天体物理计算引擎
- 用户交互处理
- 实时数据更新

#### learn.html - 学习页面
**功能**：
- 天体物理理论知识展示
- 交互式教学内容
- 物理公式和原理说明
- 学习进度跟踪

**内容模块**：
- 引力理论介绍
- 开普勒定律详解
- 轨道力学基础
- 天体分类和特征
- 宇宙演化理论

**交互元素**：
- 知识卡片展示
- 公式可视化
- 概念测试题
- 动画演示

#### scenarios.html - 场景库页面
**功能**：
- 预设天体系统场景
- 场景预览和详情
- 自定义场景管理
- 场景分享功能

**场景类型**：
- 太阳系标准模型
- 双星系统模拟
- 星系碰撞场景
- 行星碰撞演示
- 引力弹弓效应
- 轨道共振现象

**交互功能**：
- 场景缩略图预览
- 场景参数设置
- 一键加载到模拟器
- 场景收藏和评分

### JavaScript文件

#### main.js - 核心逻辑文件
**模块划分**：

1. **初始化模块**
   - 场景初始化
   - 相机设置
   - 渲染器配置
   - 事件监听器绑定

2. **天体物理引擎**
   - 引力计算类 (GravityEngine)
   - 天体类 (CelestialBody)
   - 轨道计算类 (OrbitCalculator)
   - 碰撞检测类 (CollisionDetector)

3. **3D渲染模块**
   - 天体网格创建
   - 纹理加载管理
   - 光照系统设置
   - 粒子效果系统

4. **用户界面模块**
   - 控制面板管理
   - 参数输入验证
   - 数据显示更新
   - 动画效果控制

5. **数据管理模块**
   - 场景数据保存/加载
   - 预设场景数据
   - 用户设置存储
   - 性能监控

6. **工具函数模块**
   - 数学运算工具
   - 颜色处理函数
   - 格式化显示
   - 错误处理

### 资源文件

#### 图像资源
**space_background.png**
- 用途：3D场景背景
- 规格：2048x2048像素
- 内容：深空星云、银河、恒星

**sun_texture.png**
- 用途：恒星表面纹理
- 规格：1024x1024像素
- 内容：太阳表面、日冕、太阳黑子

**earth_texture.png**
- 用途：地球类行星纹理
- 规格：1024x1024像素
- 内容：大陆、海洋、云层

**mars_texture.png**
- 用途：火星类行星纹理
- 规格：1024x1024像素
- 内容：红色表面、极地冰盖、陨石坑

**saturn_texture.png**
- 用途：土星类行星纹理
- 规格：1024x1024像素
- 内容：气态表面、环系统

## 技术实现要点

### 3D渲染技术
- **Three.js**：核心3D渲染引擎
- **WebGL**：硬件加速图形渲染
- **着色器**：自定义天体表面效果
- **纹理映射**：高质量天体表面细节

### 物理模拟
- **牛顿引力定律**：F = G * m1 * m2 / r²
- **数值积分**：Euler、RK4方法
- **碰撞检测**：球体碰撞算法
- **轨道预测**：开普勒轨道计算

### 性能优化
- **LOD系统**：距离相关的细节层次
- **视锥剔除**：只渲染可见天体
- **并行计算**：Web Workers用于物理计算
- **内存管理**：对象池重用机制

### 用户体验
- **响应式设计**：适配各种屏幕尺寸
- **触摸支持**：移动设备手势操作
- **键盘快捷键**：提高效率的操作方式
- **可访问性**：屏幕阅读器支持

## 开发优先级

### 第一阶段 - 核心功能
1. 基础3D场景搭建
2. 天体创建和渲染
3. 引力物理计算
4. 基本用户界面

### 第二阶段 - 交互增强
1. 高级控制面板
2. 实时数据显示
3. 场景保存/加载
4. 预设场景集成

### 第三阶段 - 体验优化
1. 视觉效果增强
2. 性能优化
3. 移动端适配
4. 学习功能完善

这个文件结构确保了项目的模块化、可维护性和扩展性，每个文件都有明确的功能定位，便于团队协作和后续开发。